# Identification-and-Extraction-of-DFS

这个项目包括了使用Seg-ASPP网络进行大图像的语义分割预测，以及使用重叠投票方法来提高预测结果的准确性。

## 准备工作

确保你已经安装了以下依赖：

- Python 3.6 
- NumPy
- PyTorch
- OpenCV
- Matplotlib
- GDAL
- PIL
- torchvision

你可以使用以下命令安装这些依赖：
```bash
pip install numpy torch opencv-python matplotlib gdal pillow torchvision
```

# 河流宽度和长度参数提取

本仓库包含了用于从二值掩膜图像中提取河流宽度和长度参数的Python脚本。这个工具有三个主要组成部分，分别用于不同方面的河流分析。

## 1. 长度和曲率提取

第一个组件从二值掩膜图像中计算河流的长度和曲率。它使用一系列图像处理技术来预处理掩膜并提取河流的中心线。这些中心线的长度和曲率提供了有关河流形状的重要信息。

### 使用方法

1. 准备您的二值掩膜图像，确保它是以下格式之一：`.bmp`、`.jpeg`、`.jpg`、`.png`、`.tif` 或 `.tiff`。
2. 修改脚本中的以下参数，以满足您的需求：
   - `image_name`：输入大图像文件的路径。
   - `images_path`：Seg-ASPP模型的路径。
   - `model_path`：已经训练好的Seg-ASPP模型的权重路径。
   - `row` 和 `col`：每个图像切块的大小。
3. 运行脚本。这将对大图像进行分块处理，并使用Seg-ASPP网络进行语义分割预测。
4. 预测结果将会保存为一个 `.tif` 文件。

### 注意事项

- 请确保模型文件和大图像文件的路径设置正确。
- 根据您的需求，可以修改其他参数，例如 `out_threshold` 和 `scale_factor`。


## 2. 中心线提取

第二个组件专注于提取河流的中心线并计算其长度和曲率。中心线通常是河流的骨架，它的长度和曲率是评估河流形状的重要指标。

### 使用方法

1. 准备一个二值掩膜图像。
2. 设置与实际长度相对应的像素长度（`pixel_length`），并提供您的掩膜图像的路径（`mask_image`）。
3. 运行脚本以提取中心线并计算其长度和曲率。

### 注意事项

- 请确保提供正确的像素长度和图像路径。
- 脚本通过对掩模进行图像处理来提取中心线。


## 3. 宽度参数提取

第三个组件计算河流中心线上不同点的宽度并提供各种宽度相关的测量。这些宽度参数可以帮助分析河流的变化和特征。

### 使用方法

1. 准备一个二值掩膜图像。
2. 设置与实际长度相对应的像素长度（`pixlength`），并提供您的掩膜图像的路径（`image_path`）。
3. 运行脚本以提取河流宽度参数。

### 注意事项

- 确保像素长度和图像路径设置正确。
- 宽度参数提取依赖于图像的掩模和计算。



---

## 集成和结果

为了进行全面的河流分析，您可以根据需要整合这些组件，并结合结果，以全面了解河流的特征。您可以提取的一些参数包括：

- 河流长度
- 河流曲率
- 平均宽度
- 河流面积

将这些参数整合到您的研究中，以对河流系统进行深入分析。

如有更多信息、问题或建议，请联系作者。

### 作者

- 作者：叶茂林
- 电子邮件：maolinye00@gmail.com
---

## 致谢

本仓库中的代码是基于河流参数提取和分析的工作。我们感谢所有为该项目做出贡献的人员和机构。

